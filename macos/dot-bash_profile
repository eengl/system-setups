# ----------------------------------------------------------------------------------------
# .bash_profile for macOS
# ----------------------------------------------------------------------------------------

# ----------------------------------------------------------------------------------------
# Define the base installation path for Bash
# ----------------------------------------------------------------------------------------
export BASH_HOME=$(dirname $(dirname $SHELL))

# ----------------------------------------------------------------------------------------
# Vi-style command line editing
# ----------------------------------------------------------------------------------------
set -o vi

# ----------------------------------------------------------------------------------------
# Set some important environment variables
# ----------------------------------------------------------------------------------------
export EDITOR="vim"                       # Default editor
export HISTSIZE=10000                     # Large shell command history
export HISTTIMEFORMAT="%h/%d - %H:%M:%S " # Add timestamp to history output
export PS1="\u@\h:\w $ "                  # Custom Prompt
export FIGNORE="$FIGNORE:DS_Store"        # Remove DS_Store files from tab completion

# ----------------------------------------------------------------------------------------
# Append to PATH and MANPATH
# ----------------------------------------------------------------------------------------
export PATH=$BASH_HOME/bin:$HOME/.local/bin:$PATH
export MANPATH=$BASH_HOME/share/man:$HOME/.local/share/man:$MANPATH

# ----------------------------------------------------------------------------------------
# Aliases
# ----------------------------------------------------------------------------------------
alias admin="sudo su -"
alias ldd="otool -L"
alias ls="ls -G"
alias h="history"

# ----------------------------------------------------------------------------------------
# LMOD (Installed via homebrew)
# ----------------------------------------------------------------------------------------
if [ -f /usr/local/opt/lmod/init/profile ]; then
   . /usr/local/opt/lmod/init/profile
fi

# ----------------------------------------------------------------------------------------
# Pyenv
# ----------------------------------------------------------------------------------------
if [ -d $HOME/.pyenv ]; then
   export PYENV_ROOT="$HOME/.pyenv"
   command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"
   eval "$(pyenv init -)"
fi

# ----------------------------------------------------------------------------------------
# Source .bash_functions
# ----------------------------------------------------------------------------------------
if [ -f ~/.bash_functions ]; then
   . ~/.bash_functions
fi

# ----------------------------------------------------------------------------------------
# Git command tab completion
# ----------------------------------------------------------------------------------------
if [ -f ~/.git-completion.bash ]; then
  . ~/.git-completion.bash
fi
